> *엔지니어링DB 및 실습*
>
> *Term Project 제안서*

"선택 : Choose & Enter"

> *대학교 선택시 장단점을 고려한 진학 추천 DB*

## \< 목차 \>

I.  **서론**

> **\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--**
>
> **\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-- 3**

1.  [배경 3](#배경)

2.  [문제 정의 - - 3](#문제-정의)

3.  [프로젝트 목적 - - 3](#프로젝트-목적)

```{=html}
<!-- -->
```
II. [본론 4](#본론)

    1.  [해결 아이디어](#해결-아이디어)

4

1.  [문제 해결 방향 - 4](#문제-해결-방향)

2.  [요구사항 분석 - 4](#요구사항-분석)

3.  [데이터 수집 - 5](#데이터-수집)

```{=html}
<!-- -->
```
2.  데이터베이스 설계

8

1.  개념적 설계 (E-R Modeling) 9

2.  논리적 설계 (관계 데이터 Modeling) - 13

3.  정규화 검증 (Normalization) - - 18

4.  데이터베이스 구축 (물리적 설계) 23

## 데이터베이스 구현

> 28

1.  데이터베이스 연동 28

2.  수리적 모델 적용 (알고리즘) - 27

3.  데이터 분석 29

```{=html}
<!-- -->
```
4.  ## 테스트 결과 30

    1.  프로그램 실행 결과 30

## IIl. 결론 및 별첨 32

> 결론 - - 32
>
> \[별첨\] 첨부문서 요약표 33

I.  # 서론

    1.  ## 배경

> 대한민국 대학 진학률은 69%로 전 세계에서 2위에 할당할 만큼 높은
> 진학율을 보여주고 있는 현재, 진학에 대한 중요성은 점점 짙어지고 있다.
> 이는 자연스럽게 대학교 선택에 대한 고민으로 이어지게 되어 진로설명회,
> 진로진학박람회 등의 많은 행사가 개최되고 있다. 이에 따라 초중고를
> 다니고 대학교를 비교하고 선택하여 진학하는 것은 당연하다. 사람에게
> 진학이란 단순히 지적자산을 위해 공부하는 것만이 아니라 삶의 행복과
> 가치를 논하는 것이다.
>
> 대학교는 이를 위한 중요한 인식이라는 점이 점점 짙어지고 있음을 대학별
> 진학율과 대학 선호도를 통해 알 수 있다. 대학교를 선택하는 것에 있어
> 물론 성적에 따라 결정이 되는 부분이 크겠지만 그 외에 합격한 대학교에
> 대한 여러 가지 사항(지역, 학비, 교통 수단 등)을 고려하여 진학하는 것이
> 대부분이다.

![](media/image1.jpeg){width="5.635416666666667in"
height="2.1979166666666665in"}

## 문제 정의

> 수험생들을 위한 대학교 만족도 지표가 없고, 학생들의 나이를 고려하면
> 어떤 대학이 자신의 미래를 생각할 때 도움이될지, 만족스러운 학교 생활이
> 될지 생각하는것이 어렵다. 또한 몇 없는 대학 정보 공공포털 사이트인
> '대학 어디가'는 취업률, 유지취업률, 학비 등의 k지표를 알려줄 뿐 학생
> 스스로에게 어떤 학교가 적합하며 다른 학교들에 비해 자신에게 상대적으로
> 더 좋은 학교인지를 알아내는것은 어렵다.

## 프로젝트 목적

> 옛날에 비해 대학을 진학하는 고등학생의 비율이 많이 높아졌고, 대학을
> 고른다는 것은 예전부터 지금까지 학부모와 학생의 완전히 해소되지 않는
> 고민이다. 단순히 취업률만을 놓고 보는것이 아닌, 공공포털에서
> 유지취업률, 소속지역, 학비, 장학금 등의 지표를 이용하고, 대학교별
> 학생의 만족도와 상관분석을 진행하여 어떤 요인이 학생의 만족도에 가장
> 많은 영향을 주는지 알아내고, 사용자(학생)의 성적, 위치 를 입력받으면
> 그에 따른 접근성과 학교 평균 내신, 여러 지표와 만족도를 기반으로
> 점수를 매겨 맞춤형 추천을 진행하도록 한다.

II. # 본론

    1.  ## 해결 아이디어

        1.  ## 문제 해결 방향

```{=html}
<!-- -->
```
1.  데이터를 수집하고 통합한다.

2.  가공되지 않은 데이터 형식은 데이터 모델링 및 정규화 검증을 통해
    데이터를 가공한다.

3.  보기쉽게 분류되지 않은 데이터들(취업률, 유지취업률, 학비, 지역 등)은
    사용자들이 쉽게 알아보고 자신에게 맞는 대학을 찾기 어렵다. 수리적
    모델 및 알고리즘을 적용하여 사용자들에게 유용한 정보를 창출한다.

> → 한 지역의 위도와 경도를 (lat1, lon1), 다른 지역의 위도와 경도를
> (lat2, lon2)라고 할 때 경도의 차와 위도의 차를 구한 후 구면삼각법을
> 이용하여 d를 구하면 거리가 된다. 이는 python에서 적용한다면,
> haversine() 함수를 적용하여 간단하게 구할 수 있다. 이를 '접근성' 으로
> 계산하여 맞춤형 추천의 총 점수에 기여하게 한다.

4.  기존의 '대학 어디가' 같은 사이트에서 제공하는 지표로부터는
    결론적으로 어느 대학이 자신에게 맞는지는 알 수 없다. 데이터를
    분석하고 시각화하여 학생에게 맞춤형 추천을 제안한다.

    1.  ## 요구사항 분석

```{=html}
<!-- -->
```
2.  사용자의 ID에는 필수적으로 내신 성적, 연락처, 주소, 이메일, 나이,
    성별정보가 꼭 포함되어 있어야 한다.

3.  사용자는 DB에 회원 가입 시, 개별적 특성에 맞는 카테고리를 선택할 수
    있으며, 대학교 또한 속성값에 따라 평가되며 이들은 수리적 알고리즘을
    통해 가중치가 부여된다. 그리고 사용자 내신 성적의 편차(+- 1.5)를
    바탕으로 대학 평균 내신이 그 범위에 맞는 대학 선정을 진행한다.

4.  가입한 사용자는 글(만족도)를 열람할 권한이 있다.

5.  사용자는 여러 개의 '추천'을 받을 수 있고 '추천'은 한 명의 사용자에게
    보여진다. 추천은 여러 개의 '대학'을 추천할 수 있고 '대학'은 여러
    개의 '추천'에 속할 수

> 있다.

6.  글(만족도)의 형태는 대학교를 다니던 재학생의 만족도 지수로 나타나
    있다. 이때, 지수 값은 최대 만점 5점을 기준으로 한다.

7.  대학교 개체의 속성은 대학교명, 취업률, 진학률, 유지 취업률, 지역,
    평균 등록금, 내신 성적 으로 구성되어 있다.

8.  대학교 개체는 지역별 문화시설 개체, 글(만족도) 개체와 관계가
    되어있다.

9.  글(만족도) 개체의 속성은 대학명, 학생들의 캠퍼스 만족도로 구성된다.

10. 지역별 문화시설 개체의 속성은 지역, 문화시설 수로 구성된다.

```{=html}
<!-- -->
```
10. 대학교 개체의 속성 '지역'은 문화시설 개체의 속성 '지역'을 참조하는
    외래 키를 가지고 있다.

11. 글(만족도) 개체의 속성 '학교명'은 대학 개체의 속성 '학교명'을
    참조하는 외래키를 갖는다.

    1.  ## 데이터 수집

> 위 명세서를 바탕으로 필요한 개체와 속성들을 추출했다. 필요 개체는
> \[사용자\], \[대학교\], \[문화점수\], \[취업율점수\], \[종합평가\],
> \[거리점수\],\[종합평가\]로 총 7가지이다. 설정한 개체의 속성 데이터는
> '대학어디가'와
> 애드캠퍼스(https://[www.addcampus.com/)에서](http://www.addcampus.com/)에서)
> 수집하였으며 아래 주어진 테이블은 \[대학교\]와 \[사용자\]에 해당하는
> 데이터이다.
>
> \<그림 1 - 대학교 만족별 순위 \>

![](media/image2.jpeg){width="5.608442694663167in"
height="1.7874989063867017in"}

> '애드캠퍼스'에서 학생들을 대상으로 조사한 전국 대학들의 캠퍼스
> 만족도에 대한 데이터를 가져올 수 있다.
>
> \<그림 2 - 전국 대학교 취업률\>

![](media/image3.png){width="6.258788276465442in"
height="1.9266666666666667in"}

> \< 그림 3 -- 대학교 data table \>

![](media/image4.png){width="6.255559930008749in"
height="3.3171872265966753in"}

> \< 그림 4 - 지역문화점수 data table \>

![](media/image5.png){width="3.0269028871391077in"
height="2.990624453193351in"}

> \< 그림 5 - 취업률점수 data table \>
>
> ![](media/image6.png){width="3.7291666666666665in"
> height="6.020833333333333in"}
>
> \< 그림 4 - 종합평가 data table \>
>
> ![](media/image7.png){width="6.213243657042869in"
> height="3.125415573053368in"}
>
> \< 그림 5 - 거리점수 data table \>

![](media/image8.png){width="5.879231189851269in"
height="3.504166666666667in"}

> \< 그림 6 - 글 data table \>
>
> ![](media/image9.png){width="4.682948381452318in"
> height="3.4860411198600176in"}
>
> \< 그림 7 - 사용자 data table \>

![](media/image10.png){width="6.242186132983377in" height="1.6875in"}

2.  데이터베이스 설계

    1.  개념적 설계 (ER-Modeling)

![](media/image11.jpeg){width="5.660159667541557in"
height="5.200833333333334in"}

1.  사용자 - 종합평가

> ![](media/image12.png){width="5.260018591426071in"
> height="0.9606244531933509in"}
>
> 해당 서비스를 이용하는 사람들을 나타내기 위하여 \[사용자\] Entity를
> 만들었고 속성으로는 {사용자 ID,이름, 내신, 지역, 나이, 성별,
> 전화번호}을 가진다.
>
> \[사용자\]가 원하는 조건에 부합하는 \[대학교\]를 나타내기 위하여
> \[종합평가\] Entity를 만들었고 속성으로는 {평가번호, 대학명, 지역,
> 사용자지역, 내신하한, 내신상한, 지역점수, 문화점수, 평점, 취업점수,
> 총평가점수}를 가진다. 이때 고유한 값을 가지는 평가번호 속성을 Primary
> Key로 설정했다.
>
> \[사용자\]는 여러 개의 종합평가를 추천받을 수 있고 \[종합평가\]은 한
> 명의 사용자에게 제공된다. 따라서 사용자와 종합평가는 1:N 관계이다.

2.  대학교 - 종합평가

![](media/image13.png){width="4.712141294838145in"
height="0.9274989063867016in"}

> \[사용자\]가 원하는 조건에 부합하는 대학교 정보를 나타내기 위해
> \[대학교\] Entity를 만들었고 속성으로는 {학교명, 구분, 지역명, 내신,
> 등록금, 졸업자, 외국인}을 가진다. 이때 고유한 값을 가지는 학교명을
> Primary Key로 설정했다.
>
> 종합평가 하나는 한개의 대학교만 평가할 수 있으며 하나의 대학교는 여러
> 개의 종합평가에 속할 수 있다. 따라서 대학교와 종합평가 추천은 1:N
> 관계이다.

3.  대학교 - 글

> ![](media/image14.png){width="4.651218285214348in"
> height="0.8391655730533684in"}
>
> 사용자에게 대학명과 해당 대학에 대한 만족도를 얻기 위해 '글' Entity를
> 만들었고 속성으로는 {평점, 대학명, 지역}을 가진다.이때 고유한 값을
> 가지는 평점을 Primary Key로 설정했다.
>
> \[글\]을 작성하는데 사용되는 대학교는 하나로 개수 제한이 있고,
> \[대학교\]가 글을 쓸 때 사용되는 글 개수 제한이 없고 작성되어야 할
> 의무도 없다. 따라서 한 대학교에 여러 글이 작성되어지기에 글과 대학교는
> 1:N 관계이다.

4.  대학교 - 취업률점수

![](media/image15.png){width="4.606136264216973in"
height="0.8812489063867016in"}

> 각 대학별 취업률 정보를 나타내기 위해 \[취업률점수\] Entity를 만들었고
> 속성으로는
>
> {대학명, 유지취업률, 취업률, 취업점수}를 가진다. 이때 고유한 값을
> 가지는 대학명을 Primary Key로 설정했다.
>
> 취업률점수 하나는 한개의 대학교만 나타낼 수 있으며 하나의 대학교 또한
> 하나의 취업률점수만 나타낼 수 있다. 따라서 대학교와 취업률점수는 1:1
> 관계이다.

5.  문화점수 - 종합평가

![](media/image16.png){width="4.68956583552056in"
height="0.8722911198600175in"}

> \[사용자\]가 대학교를 \[종합평가\]에서 추천받을 때 부가적으로 각
> 학교의 문화시설에 대한 평가를 알려주기 위해 \[문화점수\] Entity를
> 만들었고 속성으로는 {지역명, 문화시설 수, 문화점수}를 가진다. 이때
> 고유한 값을 가지는 지역명을 Primary Key로 설정했다. \[문화점수\]는
> 하나의 \[대학교\]를 목적지로 갖고 대학교는 여러 개의 문화시설의
> 목적지가 될 수 있다. 따라서 대학교와 문화점수는 1:N 관계이다.

6.  거리점수 - 종합평가

![](media/image17.png){width="4.611088145231846in"
height="0.8391666666666666in"}

> \[사용자\]가 대학교를 \[종합평가\]에서 추천받을 때 부가적으로 각
> 학교까지의 거리에 대한 평가를 알려주기 위해 \[거리점수\] Entity를
> 만들었고 속성으로는 {대학번호, 대학명, 지역명, 상대지역명, 거리점수,
> 위도 경도}를 가진다. 이때 고유한 값을 가지는 대학번호를 Primary Key로
> 설정했다. \[거리점수\]는 하나의 \[종합평가\]를 목적지로 갖고
> \[종합평가\] 또한 하나의 거리점수의 목적지가 된다. 따라서 대학교와
> 지역별 문화시설은 1:1 관계이다.

7.  취업률점수 - 종합평가

![](media/image18.png){width="4.335241688538932in" height="0.795in"}

> \[사용자\]가 대학교를 \[종합평가\]에서 추천받을 때 부가적으로 각
> 학교의 취업률에 대한 평가를 알려주기 위해 \[취업률점수\] Entity를
> 만들었고 속성으로는 {대학명, 유지취업률, 취업률, 취업점수}를 가진다.
> 이때 고유한 값을 가지는 대학명을 Primary Key로 설정했다.
> \[취업률점수\]는 하나의 대학교를 목적지로 갖고
>
> \[대학교\]는 하나의 취업률의 목적지가 될 수 있다. 따라서 대학교와
> 지역별 문화시설은
>
> 1:1 관계이다.

1.  논리적 설계 (관계 데이터 Modeling)

> 우리는 앞서 개념적 설계 단계에서 요구 사항 분석 결과물을 E-R 모델을
> 이용해 개념적 구조로 표현하는 과정을 수행했고 그 결과 DBMS에 독립적인
> E-R 다이어그램 설계할 수 있었다. 논리적 설계는 개념적 설계 과정의
> 결과물인 E-R 다이어그램을 릴레이션 스키마로 변환하는 과정이다. 따라서
> 우리는 이번 설계 단계에서 관계 데이터 모델을 이용해 DBMS에 적합한
> 릴레이션 스키마를 설계하고자 한다. E-R 다이어그램을 릴레이션 스키마로
> 변환할 때 7가지 규칙을 따라야한다. 7가지 규칙에 따라 각각의 개체를
> 대상으로 논리적 설계를 하는 상세한 과정은 다음을 따른다. 이때 해당되지
> 않는 규칙은 제외하고 활동을 진행했다.

![](media/image19.png){width="4.409878608923885in" height="1.25in"}

> \[사용자\] 개체는 동일한 이름을 가지는 사용자 릴레이션으로 변환된다.
> 이때, ID, 이름, 전화번호, 내신, 지역, 나이, 성별 총 7가지 속성이
> 튜플이 되어 각 릴레이션의 열로써 스키마를 구성하게 된다. 기본키는
> '[ID]{.underline}'에 해당되며, 다중 값을 갖는 속성을 가진다.
> \[사용자\] 개체를 릴레이션으로 변환한 결과는 다음과 같다.

![](media/image20.png){width="6.25744750656168in"
height="1.6218744531933509in"}

> ![](media/image21.png){width="4.697916666666667in" height="1.25in"}
>
> \[대학교\] 개체는 총 7가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마를 구성하게 되는데, 이때 7가지 속성은 학교명, 구분, 지역명,
> 내신, 등록금, 졸업자 그리고 외국인으로 구성이 되어 있다. 기본키는
> '학교명'에 해당되며, 다중 값을 갖는 속성을 가진다. \[대학교\] 개체를
> 릴레이션으로 변환한 결과는 다음과 같다.

![](media/image22.png){width="6.240621172353456in"
height="4.230207786526684in"}

![](media/image23.png){width="4.491646981627297in"
height="1.4166666666666667in"}

> \[종합평가\] 개체는 총 12가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마를 구성하게 된다. 이때, 12가지 속성은 평가번호, 내신상한,
> 대학명, 평점, 거리점수, 문화점수, 지역, 취업점수, 사용자지역,
> 총평가점수, 내신 그리고 내신하한으로 이루어져 있다. 기본키는
> '평가번호'를 가지며, 다중 값을 갖는 속성을 갖는다. \[종합평가\] 개체를
> 릴레이션으로 변환한 결과는 다음과 같다.

![](media/image24.png){width="6.2393788276465445in"
height="3.87125in"}![](media/image25.png){width="4.783733595800525in"
height="1.5208333333333333in"}

> \[거리점수\] 개체는 총 7가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마를 구성하게 된다. 이때, 7가지 속성은 경도, 대학번호, 대학명,
> 지역명, 상대지역명, 거리점수 그리고 위도로 이루어져 있다. 기본키는
> '대학번호'를 가지며, 다중 값을 갖는 속성을 갖는다. \[거리점수\] 개체를
> 릴레이션으로 변환한 결과는 다음과 같다.
>
> ![](media/image26.png){width="4.880649606299213in"
> height="4.086978346456693in"}

![](media/image27.png){width="3.9682863079615047in"
height="1.3943744531933508in"}

> \[취업률점수\] 개체는 총 4가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마를 구성하게 된다. 이때, 4가지 속성은 대학명, 유지취업률, 취업률
> 그리고 취업점수로 이루어져 있다. 기본키는 '대학명'을 가지며, 다중 값을
> 갖는 속성을 갖는다. \[취업률점수\] 개체를 릴레이션으로 변환한 결과는
> 다음과 같다.
>
> ![](media/image28.png){width="1.8079669728783903in"
> height="2.0599989063867015in"}

![](media/image29.png){width="3.6041666666666665in"
height="1.3958333333333333in"}

> \[글\] 개체는 총 3가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마를 구성하게 된다. 이때, 3가지 속성은 평점, 대학명 그리고
> 지역으로 이루어져 있다. 기본키는 '평점'을 가지며, 다중 값을 갖는
> 속성을 갖는다. \[글\] 개체를 릴레이션으로 변환한 결과는 다음과 같다.

![](media/image30.png){width="1.7271555118110236in"
height="2.8933333333333335in"}

> ![](media/image31.png){width="3.5625in" height="1.3958333333333333in"}
>
> \[문화점수\] 개체는 총 3가지 속성이 튜플이 되어 각 릴레이션의 열로써
> 스키마➴ 구성하게 된다. 이때, 3가지 속성은 지역명, 문화시설수 그리고
> 문화점수로 이루어져 있다. 기본키는 '지역명'을 가지며, 다중 값을 갖는
> 속성을 갖는다. \[문화점수\] 개체➴ 릴레이션으로 변환한 결과는 다음과
> 같다.

![](media/image32.png){width="1.7055194663167104in"
height="3.3454166666666665in"}

2.  정규화 검증 (Normalization)

> 데이터베이스➴ 잘못 설계하면 데이터의 중복이 발생하여 릴레이션에 대한
> 데이터의 INSERT, UPDATE, DELETE 연산을 수행할 때 이상 현상이 발생한다.
> 이➴ 방지하기 위해 관련 있는 속성들로만 릴레이션을 구성해야 한다.
> 정규화는 이상 현상이 발생하지 않도록 함수 종속성을 이용하여 릴레이션을
> 연관성이 있는 속성들로만 구성되도록 분해한다.

1.  사용자 릴레이션 정규화

```{=html}
<!-- -->
```
1)  제 1정규형

![](media/image33.png){width="6.277810586176728in"
height="1.6687489063867016in"}

> 모든 속성들이 단일 값으로 구성되어 있으므로 제 1 정규형을 만족한다.

2)  제 2정규형

> 복합키➴ 가지고 있지 않으므로 제2 정규형을 만족한다.

3)  제 3정규형

> 이름, 내신, 지역, 나이, 성별, 전화번호 속성 모두 PK인 ID에 완전 함수
> 종속되므로 제
>
> 2정규형을 만족한다.

1.  대학교 릴레이션

![](media/image4.png){width="6.216680883639545in"
height="3.7996872265966752in"}

1.  제 1정규형

모든 속성들은 단일 값으로 구성되어 있으므로 제 1정규형을 만족한다.

2.  제 2정규형

해당 릴레이션은 복합키➴ 가지고 있지 않으므로 제 2정규형을 만족한다.

3.  제 3정규형

> 해당 릴레이션에서, univname에 각각 establish, region, score, ...
> merate는 모두 univname에만 종속하므로 이행함수 종속성을 가지지 않는다.
> 더 이상의 정규화는 불필요하다.

2.  글 릴레이션

![](media/image34.png){width="5.597495625546807in"
height="2.053124453193351in"}

1.  제 1정규형

모든 속성들은 단일 값으로 구성되어 있으므로 제 1정규형을 만족한다.

2.  제 2정규형

> 해당 릴레이션은 복합키➴ 가지고 있지 않으므로 제 2정규형을 만족한다.

3.  제 3정규형

> 해당 릴레이션에서 rating, region은 모두 univname에만 종속하므로
> 이행함수 종속성을 가지지 않는다. 더 이상의 정규화는 불필요하다.

3.  지역문화점수 릴레이션

> ![](media/image5.png){width="1.8254910323709537in"
> height="2.990624453193351in"}

1.  제 1정규형

> 모든 속성들은 단일 값으로 구성되어 있으므로 제 1정규형을 만족한다.

2.  제 2정규형

> 해당 릴레이션은 복합키➴ 가지고 있지 않아 제 2정규형을 만족한다.

3.  제 3정규형

> 지역문화점수 속성은 지역명에만 종속하므로 이행함수 종속성을 가지지
> 않는다.

4.  취업률 점수 릴레이션

> ![](media/image6.png){width="3.7072681539807526in" height="3.97375in"}

1.  제 1정규형

> 모든 속성들은 단일 값으로 구성되어 있으므로 제 1정규형을 만족한다.

2.  제 2정규형

> 해당 릴레이션은 복합키➴ 가지고 있지 않아 제 2정규형을 만족한다.

3.  제 3정규형

> 취업점수는 대학명에만 종속하므로 이행함수 종속이 없다.

5.  거리점수 릴레이션

> ![](media/image35.png){width="6.285027340332459in"
> height="4.630207786526684in"}

1.  정규화에 대한 어려움

> 첫 행 '가야대학교'의 경우, 사용자의 지역에 따라 17개의 행을 갖는다.
> 이는 제 1정규화➴ 진행해주어야 했다.
>
> 위 테이블에선 부분함수 종속성을 찾아볼 수 있는데, 우선 region의 경우
> 대학의 지역명이기 때문에 '대학'에 종속된다. 그리고 유저의 위도, 유저의
> 경도는 유저의 지역명과 연관되어 '사용자' 테이블로 나누어 부분함수
> 종속을 제거하려고 했지만, '종합평가' 테이블의 특성 상 위도와 경도➴
> 계산하여 그에 따른 거리점수➴ 자동으로 출력하여 총 평가점수에 더해주는
> 시스템을 구축하기 어려움을 느꼈고, 위처럼 정규화하지 못한 상태로 한
> 테이블에 모아 한번에 점수 계산을 진행하게 되었다.

6.  종합평가 릴레이션

![](media/image36.png){width="6.272683727034121in"
height="3.620833333333333in"}

1.  정규화에 대한 어려움

> '종합평가' 테이블도 마찬가지로 각 대학교의 행 마다 사용자의 지역에
> 따라 다른 17개의 행을 가진다. 이는 제 1정규화➴ 진행해주어야 했다.
>
> 속성 'uregion', 'dscore', 'uscore'을 제외한 나머지 속성들은 대학교에
> 종속되는 대학 지역명, 합격자 평균 내신, 평점, 문화점수, 거리점수,
> 취업률 점수, 총 평가점수에 해당한다. 하지만 유저의 지역 경우 따로
> '사용자' 테이블로 나누어 줘야 하며, 내신 상한과 내신 하한의 경우
> 학교 - 내신 테이블을 따로 만들어 속성은 학교명, 내신성적, 내신상한,
> 내신하한을 갖는 테이블로 나누어 줬어야 했다. 하지만 사용자 맞춤형 DB에
> 있어서 중요한 점수가 들어있는 다른 테이블들과 위도/경도➴ 계산하여
> 사용자의 지역과 비교해 점수➴ 다르게 환산한 후 그에 따른 순위➴ 여러
> 테이블을 연동지어 자동 계산하고 출력하기 어려움을 느꼈고, 위처럼
>
> '종합평가'라는 테이블에 다른 테이블들의 정보➴ 한데 모아서 '종합평가'와
> '사용자' 사이에서 추천을 진행하게 되었다.

## 데이터베이스 구축 (물리적 설계)

> 앞선 과정들을 마친 뒤 실제 물리적 설계 단계에 들어가기 위해 데이터
> 베이스➴ 구축했다. 이후 정규화 과정을 거쳐 11개로 분리된 각각의
> 테이블들을 생성하기 위해 아래와 같이 데이터 정의어(DDL)을 사용하여
> SQL문을 작성했다.
>
> 각 테이블은 csv파일로 데이터➴ 정리 후 workbench의 table data import
> wizzard➴ 사용하여 다음과 같이 불러왔다.

![](media/image37.jpeg){width="6.230790682414698in"
height="2.62in"}![](media/image38.jpeg){width="6.267155511811024in"
height="2.0925in"}

+-----------------------------------------------------------------------+
| > ![](media/image39.jpeg){width="2.5520833333333335in"                |
| > height="0.4375in"}                                                  |
+=======================================================================+
| > **\< 그림1 -- 데이터베이스 생성 및 사용\>**                         |
+-----------------------------------------------------------------------+

+---------------------------------------+------------------------------+
| > ![](media/image                     | > ![](media/image41.jpeg)    |
| 40.jpeg){width="3.3147101924759403in" | {width="2.556757436570429in" |
| > height="1.375in"}                   | > he                         |
|                                       | ight="1.5647911198600175in"} |
+=======================================+==============================+
| > ![](media/imag                      | > ![](media/image43.jpeg){   |
| e42.jpeg){width="3.313992782152231in" | width="2.5327318460192476in" |
| > height="1.5416666666666667in"}      | > he                         |
|                                       | ight="1.5239577865266842in"} |
+---------------------------------------+------------------------------+
| > \< 그림2 -- 글 table \>             | > \< 그림3 -- 사용자 table   |
|                                       | > \>                         |
+---------------------------------------+------------------------------+

  ----------------------------------- -----------------------------------

  ----------------------------------- -----------------------------------

+-----------------------------------+-----------------------------------+
| > ![](media/image44.j             | > ![](media/image45               |
| peg){width="2.9227274715660543in" | .jpeg){width="2.92367782152231in" |
| > height="1.6774989063867016in"}  | > height="1.1925in"}              |
+===================================+===================================+
| > ![](media/image46.j             | > ![](media/image47.              |
| peg){width="2.9097517497812775in" | jpeg){width="2.515386045494313in" |
| > height="1.2468744531933509in"}  | > height="1.2906244531933508in"}  |
+-----------------------------------+-----------------------------------+
| > \< 그림4 -- 대학교 table \>     | > \< 그림5 -- 지역문화점수 table  |
|                                   | > \>                              |
+-----------------------------------+-----------------------------------+

+-----------------------------------------------------------------------+
| > ![](media/image48.jpeg){width="4.344852362204724in"                 |
| > height="3.28125in"}                                                 |
+=======================================================================+
| > ![](media/image49.jpeg){width="5.993274278215223in"                 |
| > height="1.1442705599300087in"}                                      |
+-----------------------------------------------------------------------+

+-----------------------------------------------------------------------+
| > **\< 그림6 -- 거리점수 table \>**                                   |
+=======================================================================+
+-----------------------------------------------------------------------+

+-----------------------------------------------------------------------+
| > ![](media/image50.jpeg){width="5.952185039370079in"                 |
| > height="1.59375in"}                                                 |
+=======================================================================+
| > ![](media/image51.jpeg){width="5.713685476815398in"                 |
| > height="1.6145833333333333in"}                                      |
+-----------------------------------------------------------------------+
| > **\< 그림7 -- 취업률 점수 table \>**                                |
+-----------------------------------------------------------------------+

  -----------------------------------------------------------------------

  -----------------------------------------------------------------------

+-----------------------------------------------------------------------+
| > ![](media/image52.jpeg){width="4.761055336832896in"                 |
| > height="4.135416666666667in"}                                       |
+=======================================================================+
| > ![](media/image53.jpeg){width="6.043604549431321in"                 |
| > height="1.203124453193351in"}                                       |
+-----------------------------------------------------------------------+
| > **\< 그림8 -- 종합평가 table \>**                                   |
+-----------------------------------------------------------------------+

+-----------------------------------+-----------------------------------+
| > ![](media/image54.              | > ![](media/image55.j             |
| jpeg){width="2.854050743657043in" | peg){width="2.9120833333333334in" |
| > height="1.5313538932633421in"}  | > height="1.5241666666666667in"}  |
+===================================+===================================+
+-----------------------------------+-----------------------------------+

+-----------------------------------+-----------------------------------+
| > ![](media/image56.j             | > ![](media/image57.j             |
| peg){width="2.9104516622922136in" | peg){width="2.9520942694663166in" |
| > height="0.9661450131233595in"}  | > height="0.57375in"}             |
+===================================+===================================+
| > **\< 그림9 - 사용자들의 추천    | > **\< 그림10 -- 특정 사용자의    |
| > 대학 \>**                       | > 추천 대학 \>**                  |
+-----------------------------------+-----------------------------------+

3.  # 데이터베이스 구현

    1.  ## 데이터베이스와 Google Colab 연동

> 다음과 같이 Google Colab과 DB(=종합평가)➴ 연동시켜서 수리적 알고리즘을
> 진행하도록 하였다.

![](media/image58.png){width="6.247941819772528in"
height="2.0521872265966756in"}

## 수리적 모델 및 알고리즘

1.  **접근성 계산 - 각 지역의 위도와 경도에 대한 가중치**

> =IF(C2=\"서울\",37.6269573224077,IF(C2=\"경기\",37.4086715616968,IF(C2=\"인천\",37.45433
> 39438657,IF(C2=\"대전\",36.3734954832922,IF(C2=\"세종\",36.5494628951423,IF(C2=\"광주\",
>
> 35.1530434467763,IF(C2=\"대구\",35.8267974091075,IF(C2=\"강원\",37.7974152911382,IF(C
>
> 2=\"울산\",35.5449668298327,IF(C2=\"충북\",36.8478489321742,IF(C2=\"충남\",36.5692951557
>
> 337,IF(C2=\"경북\",36.2690144803018,IF(C2=\"경남\",35.3313418412054,IF(C2=\"전북\",35.599
>
> 7805404719,IF(C2=\"전남\",34.8819577396782,IF(C2=\"부산\",35.2596069977505,IF(C2=\"제
> 주\",33.3815419285863))))))))))))))))) → 위도 가중치 계산
>
> =IF(C2=\"서울\",126.96957959964,IF(C2=\"경기\",127.525437397005,IF(C2=\"인천\",126.71378
> 1424966,IF(C2=\"대전\",127.387609024394,IF(C2=\"세종\",127.25718900471,IF(C2=\"광주\",12
>
> 6.825251019445,IF(C2=\"대구\",128.57149704272,IF(C2=\"강원\",
> 128.377288335397,
> IF(C2=\"울산\",129.300650188852,IF(C2=\"충북\",127.746574464511,IF(C2=\"충남\",126.76947
> 6408712,IF(C2=\"경북\",128.933329950878,IF(C2=\"경남\",128.278729699026,IF(C2=\"전북\",1
>
> 27.12534954174,IF(C2=\"전남\",126.869073204605,IF(C2=\"부산\",129.051162410444,IF(C2=
> \"제주\", 126.547725324177))))))))))))))))) → 경도 가중치 계산
>
> 엑셀 파일 "거리점수" 테이블 안에 속성값으로 위도와 경도의 속성을
> 추가하였다. 이후, 거리점수의 계산을 위하여 위도와 경도에 가중치➴
> 부여하였다.

## 가중치 부여➴ 통한 추천

> 대학교 정보에 대해 사용자가 접근하기에 정보가 방대하여 쉽게 접근하지
> 못한다는 어려움이 있다. 이러한 문제 해결을 위하여 사용자들이 생각하는
> 선호도➴ 바탕으로 사용자에게 정제된 데이터➴ 제공함으로써 사용자가
> 데이터베이스에 보다 더 쉽게 접근하여 활용할 수 있도록 한다.
>
> 사용자의 데이터➴ 엑셀파일에 입력 후 불러온다. 사용자의 데이터는 나중
> 종합평가에 있을 지역점수(거리점수:위도와 경도의 가중치), 문화시설값,
> 취업률 등 최종평가에 반영이 되고 반영된 결과에 따라 사용자에게
> 대학명과 종합평가점수가 테이블에 뜨며 순위 역시 뜬다.

## 데이터 분석

> **1. 수리적 알고리즘 적용 후 상관분석**
>
> ![](media/image59.png){width="5.729701443569554in"
> height="2.636248906386702in"}

+-----------------------------------+----------------------------------+
| > \<Correlation Coefficient\>     | > \<P-values\>                   |
+===================================+==================================+
+-----------------------------------+----------------------------------+

> 상관분석은 두 확률 변수 사이의 관련성을 파악하는 방법이다. 즉, 한
> 변수가 증가하면, 다른 한 변수 또한 선형적으로 증가 혹은 감소하는지➴
> 확인할 수 있는 방법이다. Google Colab이라는 프로그램을 통해서 도출된
> 결과➴ 확인해보면, '총평가점수' 와 '취업률'이 상관계수 0.72➴ 가지며,
> '총평가점수'와 '취업률' 사이의 양의 선형적인 관계➴ 나타내고 있다.
> 이러한 결과가 얼마나 유의한지는 p-values➴ 통해 확인할 수 있다.
> '총평가점수'와 '취업률' 사이의 p-values는 0에 매우 가까운 값으로
> 0.05보다 작기 때문에, 상관관계가 유의한 것으로 나타났다. 이러한 분석
> 결과➴ 통해서 취업률이 높아질수록, 대학교 선정 총평가점수가 높아지는
> 것으로 나타나졌다.

![](media/image60.jpeg){width="3.7053794838145233in" height="2.4in"}

> 상관분석의 특정 변수인 tscore (=총평가점수) 와 erating (=취업률) 간의
> 선형 scatter plot을 나타나게 했을 때, 총 평가점수가 높으면 높을수록
> 취업률 점수 역시 높은 구간에서 나타나는 것으로 확인 되었다. 즉,
> 취업률이라는 속성은 사용자에게 있어 크게 작용한다는 것을 알았다.
>
> 취업률 뿐만 아니라, 문화시설 수와 지역점수 속성이 총평가점수에 영향을
> 미치는 것으로 나타났고, 거리점수는 반영이 되긴 하지만 미미한 정도였다.

# 4. 테스트 결과

## 1. 프로그램 실행 결과

> SQL의 데이터 조작 기능인 DML 문을 사용하여 '대학교 추천 시스템'에서
> 사용자별 특성에 맞는 데이터➴ 검색하기 위해 사용될 수 있는 예시➴ 아래와
> 같이 수행해보았다.
>
> ①사용자 전체 둘러보기

+-----------------------------------+----------------------------------+
| > ![](media/image41.              | > ![](media/image43.jp           |
| jpeg){width="2.556757436570429in" | eg){width="2.5315824584426947in" |
| > height="1.5647911198600175in"}  | > height="1.5239577865266842in"} |
+===================================+==================================+
+-----------------------------------+----------------------------------+

> ② 사용자에게 맞는 대학교 추천

+----------------------------------+-----------------------------------+
| > ![](media/image54.             | > ![](media/image56.              |
| jpeg){width="2.82380249343832in" | jpeg){width="2.896842738407699in" |
| > height="1.5062489063867017in"} | > height="1.3854166666666667in"}  |
+==================================+===================================+
+----------------------------------+-----------------------------------+

> ③ 전체 사용자들 중 특정 사용자의 추천 대학

+----------------------------------+-----------------------------------+
| > ![](media/image55.jp           | > ![](media/image57.              |
| eg){width="2.9014905949256344in" | jpeg){width="2.923921697287839in" |
| > height="1.5241666666666667in"} | > height="0.765in"}               |
+==================================+===================================+
+----------------------------------+-----------------------------------+

![](media/image61.jpeg)

> → 각 사용자들의 내신점수와 학교의 평균 내신 점수➴ 비교하여 내신 상한과
> 내신 하한에 사용자의 내신성적이 해당되는 범위에서 대학교에 대한 추천이
> 이루어졌다.
>
> 사용자의 거주 지역과 학교가 있는 지역과 위도, 경도➴ 계산한 거리 계산
> 점수, 재학생들이 매긴 학교에 대한 평점, 학교의 취업률과 유지 취업률
> 점수, 그 지역의 문화시설 점수에 따른 사용자에 대한 학교의 추천 순위와
> 총 평가 점수➴ 출력해준다.
>
> 사용자가 원하는 정도에 따라 대학 추천 수➴ 늘릴 수 있으며 이➴ 참고하여
> 대학 진학에 있어서 도움을 받을 수 있다.

# IIl. 결론

> 현재 대한민국은 대학 진학이 당연하다는 사회적 인식으로 인하여 대학
> 진학에 대한 중요성이 짙어지고 있다. 본 프로젝트와 유사한 기존의
> 대학입시 추천 플랫폼 간다고의 경우, 사용자가 입력한 내신(수시),
> 수능(정시)의 성적을 입력하여 지원 가능한 대학들을 추천해주는데 최근
> 대학을 선택함에 있어 고려하는 요소들이 단순히 성적뿐이 아니라는 한계가
> 있었다. 따라서 사용자가 고려하는 요소(주변 문화시설, 취업률, 대학 평점
> 등)➴ 다양하게 다루며 사용자의 정보➴ 고려한 좀 더 세세한 정보➴
> 제공하고자 '대학 추천 DB'➴ 구상하게 되었으며 아래와 같은 과정을 통하여
> 프로젝트➴ 수행하였다.
>
> 먼저 대학 추천 DB➴ 구성하며 대학어디가로부터 전국 대학명/지역/취업률
> 등에 관한 정보➴ 수집하였고 각각의 데이터들이 가진 속성을 동일하게
> 정리하고자 통합시키는 과정을 거쳤다. 이후 사용자들에게 알맞은 대학교➴
> 추천하기 위한 최적의 알고리즘을 계획하고자 방법을 고민하였고,
> 사용자들이 직접 원하는 조건을 충족할 수 있는 다양한 카테고리➴ 선정하여
> 이➴ 바탕으로 '종합평가'➴ 통해 총평점을 제공하는 시스템을 구상하였다.
> 그리고 이에 필요한 \[글\]의 평점, \[거리점수\],
> \[지역문화점수\],\[취업률점수\], 4개의 개체➴ 설정하여 관계➴ 지어
> 규칙과 정규화 검증을 통한 릴레이션 변환 과정을 거쳤다.
>
> 총 평가점수➴ 매기는데 있어 중요하게 여긴 것은 '취업률 점수'였다. 총
> 평가점수는 위도/경도➴ 계산하여 매긴 '거리점수'와 각 대학교가 위치한
> 지역의 문화시설 수에 해당하는 '지역문화점수', 재학생들이 직접 평가한
> 자교의 '평점', 그리고 대학교별 졸업생들의 취업률과 유지취업률을 토대로
> 점수➴ 환산한 '취업률 점수'의 합으로 나타난 점수였다. 점수 계산에
> 있어서 해당 학교의 재밌는 캠퍼스 생활과 연관되는 '지역문화점수'는
> 4개의 점수 중 가장 낮은 비율인 15%➴ 적용했고, 그 다음으로 사용자의
> 거주 지역과 대학의 지역과의 위도/경도 거리 계산을 통해 접근성에
> 연관되는 '거리점수'는 그 다음으로 낮은 비율인 20%➴ 적용했다.
> 자교생들의 대학에 대한 만족도라고 볼 수 있는 '평점'은 그 학교 학생들의
> 자교에 대한 자부심이라고 생각했고, 또한 학교➴ 다니는데 있어서 좋은
> 에너지➴ 심어줄 수 있을 것이라고 생각하여 두 번째로 높은 비율인 25%➴
> 적용하여 계산했다. 마지막으로 그 학교 졸업생들이 사회에서 얼마나
> 인정을 받고 있는지에 대한 지표가 취업률 이라고 생각했고, 취업률과
> 유지취업률을 더하여 '취업률 점수'➴ 가장 높은 비율인 40%➴ 적용하여
> 계산했다.
>
> 계산하여 출력한 결과에서 볼 수 있듯이, 재학생들의 '평점'에 있어서는
> 이름이 유명한 대학들이 대체적으로 높았기 때문에 총 평가점수➴ 출력하여
> 순위➴ 매길 때도 이름을 많이 들어본 대학교들이 평가점수에 있어서 높은
> 순위➴ 드러냈다. 하지만 재학생의 평점이 제일
>
> 중요한 것이 아닌 학교와 학생들의 역량을 나타낼 수 있는 취업률과
> 유지취업률 점수에 영향을 많이 받길 원했고, 이는 점수와 순위에서
> 드러났듯이 취업률이 높고 역량이 좋은 대학들이 사용자들의 내신 범위
> 내에서 높은 추천순위가 매겨졌다. 취업률 점수와 재학생 평점이 주➴
> 이루며, 부가적으로 거리점수와 지역문화점수로 점수➴ 매긴 것이
> 사용자에게 있어 캠퍼스 생활과 개인의 역량 모두 발전시킬 수 있는 대학
> 추천이 이루어진 것 같다고 생각한다.
>
> **\[별첨\] 첨부문서 요약표**

+-----+------------------------+--------------------------------------+
| > * | > **파일이름**         | > **내용**                           |
| *순 |                        |                                      |
| 서  |                        |                                      |
| **  |                        |                                      |
+=====+========================+======================================+
| > 1 | > 1-.pptx              | -   서론                             |
|     |                        |                                      |
|     |                        | -   해결 아이디어                    |
|     |                        |                                      |
|     |                        | -   데이터 베이스 설계               |
|     |                        |                                      |
|     |                        | -   데이터 베이스 구축               |
|     |                        |                                      |
|     |                        | -   데이터베이스 구현 및 수리적      |
|     |                        |     알고리즘                         |
|     |                        |                                      |
|     |                        | -   시각화 및 결론                   |
+-----+------------------------+--------------------------------------+
| > 2 | > 2-csv파일.zip        | -   1\. 거리점수.csv                 |
|     |                        |                                      |
|     |                        | -   2\. 글(평점).csv                 |
|     |                        |                                      |
|     |                        | -   3\. 대학교.csv                   |
|     |                        |                                      |
|     |                        | -   4\. 사용자.csv                   |
|     |                        |                                      |
|     |                        | -   5\. 종합평가.csv                 |
|     |                        |                                      |
|     |                        | -   6\. 지역문화점수.csv             |
|     |                        |                                      |
|     |                        | -   7\. 취업률점수.csv               |
+-----+------------------------+--------------------------------------+

+-----+------------------------+--------------------------------------+
| > 3 | > 3-SQL.zip            | -   1-Create Table(거리점수).sql     |
|     |                        |                                      |
|     |                        | -   2-Create Table(글).sql           |
|     |                        |                                      |
|     |                        | -   3-Create Table(대학교).sql       |
|     |                        |                                      |
|     |                        | -   4-Create Table(사용자).sql       |
|     |                        |                                      |
|     |                        | -   5-Create Table(종합평가).sql     |
|     |                        |                                      |
|     |                        | -   6-Create Table(지역문화점수).sql |
|     |                        |                                      |
|     |                        | -   7-Create Table(취업률점수).sql   |
|     |                        |                                      |
|     |                        | -   8-사용자 전체 대학추천 코드.sql  |
|     |                        |                                      |
|     |                        | -   9-사용자 한 명의 대학추천        |
|     |                        |     코드.sql                         |
|     |                        |                                      |
|     |                        | -   10-외래키 참조.sql               |
+=====+========================+======================================+
+-----+------------------------+--------------------------------------+
